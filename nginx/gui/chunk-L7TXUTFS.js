import{$ as wn,A as ce,J as M,K as ke,L as pe,M as de,N as dn,O as Qe,P as Ve,Q as mn,R as me,T as fe,U as fn,V as gn,W as hn,X as yn,Y as _n,Z as Cn,_ as bn,a as ie,aa as En,ba as vn,d as ln,da as q,j as un,m as cn,n as Pe,p as pn,q as Me,t as re,u as z,v as oe,w as ae,x as se,y as le,z as ue}from"./chunk-HNYGO2PH.js";import{$b as tn,D as Vt,Db as S,Hb as h,Ib as g,Ma as d,Mb as $t,Nb as Wt,O as Ft,Ob as Yt,Ra as Ne,S as O,Vb as Zt,W as Ut,Wa as zt,Wb as y,Xa as D,Xb as Xt,Yb as ne,_b as en,aa as b,ab as L,ac as nn,ba as w,bc as rn,cc as on,d as C,e as Ai,ec as $,f as lt,fc as Ae,gb as B,m as Pt,mc as an,na as Ot,oa as te,oc as sn,p as Mt,pb as jt,pc as I,qb as Ht,t as kt,tb as p,ub as u,v as Qt,vb as c,wb as x,xb as Gt,yb as Kt,zb as Jt}from"./chunk-MDE6PSU2.js";var Rn=C((xo,Dn)=>{"use strict";Dn.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var H=C(W=>{"use strict";var ct,Gi=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];W.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};W.getSymbolTotalCodewords=function(e){return Gi[e]};W.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};W.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ct=e};W.isKanjiModeEnabled=function(){return typeof ct<"u"};W.toSJIS=function(e){return ct(e)}});var Oe=C(N=>{"use strict";N.L={bit:1};N.M={bit:0};N.Q={bit:3};N.H={bit:2};function Ki(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return N.L;case"m":case"medium":return N.M;case"q":case"quartile":return N.Q;case"h":case"high":return N.H;default:throw new Error("Unknown EC Level: "+n)}}N.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};N.from=function(e,t){if(N.isValid(e))return e;try{return Ki(e)}catch{return t}}});var qn=C((To,Ln)=>{"use strict";function Bn(){this.buffer=[],this.length=0}Bn.prototype={get:function(n){let e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Ln.exports=Bn});var An=C((Do,Nn)=>{"use strict";function xe(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}xe.prototype.set=function(n,e,t,i){let r=n*this.size+e;this.data[r]=t,i&&(this.reservedBit[r]=!0)};xe.prototype.get=function(n,e){return this.data[n*this.size+e]};xe.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};xe.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};Nn.exports=xe});var Pn=C(ze=>{"use strict";var Ji=H().getSymbolSize;ze.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=Ji(e),r=i===145?26:Math.ceil((i-13)/(2*t-2))*2,o=[i-7];for(let a=1;a<t-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()};ze.getPositions=function(e){let t=[],i=ze.getRowColCoords(e),r=i.length;for(let o=0;o<r;o++)for(let a=0;a<r;a++)o===0&&a===0||o===0&&a===r-1||o===r-1&&a===0||t.push([i[o],i[a]]);return t}});var Qn=C(kn=>{"use strict";var $i=H().getSymbolSize,Mn=7;kn.getPositions=function(e){let t=$i(e);return[[0,0],[t-Mn,0],[0,t-Mn]]}});var Vn=C(v=>{"use strict";v.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Y={N1:3,N2:3,N3:40,N4:10};v.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};v.from=function(e){return v.isValid(e)?parseInt(e,10):void 0};v.getPenaltyN1=function(e){let t=e.size,i=0,r=0,o=0,a=null,s=null;for(let l=0;l<t;l++){r=o=0,a=s=null;for(let m=0;m<t;m++){let f=e.get(l,m);f===a?r++:(r>=5&&(i+=Y.N1+(r-5)),a=f,r=1),f=e.get(m,l),f===s?o++:(o>=5&&(i+=Y.N1+(o-5)),s=f,o=1)}r>=5&&(i+=Y.N1+(r-5)),o>=5&&(i+=Y.N1+(o-5))}return i};v.getPenaltyN2=function(e){let t=e.size,i=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){let a=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);(a===4||a===0)&&i++}return i*Y.N2};v.getPenaltyN3=function(e){let t=e.size,i=0,r=0,o=0;for(let a=0;a<t;a++){r=o=0;for(let s=0;s<t;s++)r=r<<1&2047|e.get(a,s),s>=10&&(r===1488||r===93)&&i++,o=o<<1&2047|e.get(s,a),s>=10&&(o===1488||o===93)&&i++}return i*Y.N3};v.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let o=0;o<i;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/i/5)-10)*Y.N4};function Wi(n,e,t){switch(n){case v.Patterns.PATTERN000:return(e+t)%2===0;case v.Patterns.PATTERN001:return e%2===0;case v.Patterns.PATTERN010:return t%3===0;case v.Patterns.PATTERN011:return(e+t)%3===0;case v.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case v.Patterns.PATTERN101:return e*t%2+e*t%3===0;case v.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case v.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}v.applyMask=function(e,t){let i=t.size;for(let r=0;r<i;r++)for(let o=0;o<i;o++)t.isReserved(o,r)||t.xor(o,r,Wi(e,o,r))};v.getBestMask=function(e,t){let i=Object.keys(v.Patterns).length,r=0,o=1/0;for(let a=0;a<i;a++){t(a),v.applyMask(a,e);let s=v.getPenaltyN1(e)+v.getPenaltyN2(e)+v.getPenaltyN3(e)+v.getPenaltyN4(e);v.applyMask(a,e),s<o&&(o=s,r=a)}return r}});var dt=C(pt=>{"use strict";var G=Oe(),je=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],He=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pt.getBlocksCount=function(e,t){switch(t){case G.L:return je[(e-1)*4+0];case G.M:return je[(e-1)*4+1];case G.Q:return je[(e-1)*4+2];case G.H:return je[(e-1)*4+3];default:return}};pt.getTotalCodewordsCount=function(e,t){switch(t){case G.L:return He[(e-1)*4+0];case G.M:return He[(e-1)*4+1];case G.Q:return He[(e-1)*4+2];case G.H:return He[(e-1)*4+3];default:return}}});var Fn=C(Ke=>{"use strict";var Ie=new Uint8Array(512),Ge=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Ie[t]=e,Ge[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Ie[t]=Ie[t-255]})();Ke.log=function(e){if(e<1)throw new Error("log("+e+")");return Ge[e]};Ke.exp=function(e){return Ie[e]};Ke.mul=function(e,t){return e===0||t===0?0:Ie[Ge[e]+Ge[t]]}});var Un=C(Se=>{"use strict";var mt=Fn();Se.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)i[r+o]^=mt.mul(e[r],t[o]);return i};Se.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let r=i[0];for(let a=0;a<t.length;a++)i[a]^=mt.mul(t[a],r);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i};Se.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=Se.mul(t,new Uint8Array([1,mt.exp(i)]));return t}});var jn=C((Po,zn)=>{"use strict";var On=Un();function ft(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}ft.prototype.initialize=function(e){this.degree=e,this.genPoly=On.generateECPolynomial(this.degree)};ft.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=On.mod(t,this.genPoly),r=this.degree-i.length;if(r>0){let o=new Uint8Array(this.degree);return o.set(i,r),o}return i};zn.exports=ft});var gt=C(Hn=>{"use strict";Hn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var ht=C(V=>{"use strict";var Gn="[0-9]+",Yi="[A-Z $%*+\\-./:]+",Te="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Te=Te.replace(/u/g,"\\u");var Zi="(?:(?![A-Z0-9 $%*+\\-./:]|"+Te+`)(?:.|[\r
]))+`;V.KANJI=new RegExp(Te,"g");V.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");V.BYTE=new RegExp(Zi,"g");V.NUMERIC=new RegExp(Gn,"g");V.ALPHANUMERIC=new RegExp(Yi,"g");var Xi=new RegExp("^"+Te+"$"),er=new RegExp("^"+Gn+"$"),tr=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");V.testKanji=function(e){return Xi.test(e)};V.testNumeric=function(e){return er.test(e)};V.testAlphanumeric=function(e){return tr.test(e)}});var K=C(T=>{"use strict";var nr=gt(),yt=ht();T.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};T.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};T.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};T.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};T.MIXED={bit:-1};T.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!nr.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};T.getBestModeForData=function(e){return yt.testNumeric(e)?T.NUMERIC:yt.testAlphanumeric(e)?T.ALPHANUMERIC:yt.testKanji(e)?T.KANJI:T.BYTE};T.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};T.isValid=function(e){return e&&e.bit&&e.ccBits};function ir(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return T.NUMERIC;case"alphanumeric":return T.ALPHANUMERIC;case"kanji":return T.KANJI;case"byte":return T.BYTE;default:throw new Error("Unknown mode: "+n)}}T.from=function(e,t){if(T.isValid(e))return e;try{return ir(e)}catch{return t}}});var Yn=C(Z=>{"use strict";var Je=H(),rr=dt(),Kn=Oe(),J=K(),_t=gt(),$n=7973,Jn=Je.getBCHDigit($n);function or(n,e,t){for(let i=1;i<=40;i++)if(e<=Z.getCapacity(i,t,n))return i}function Wn(n,e){return J.getCharCountIndicator(n,e)+4}function ar(n,e){let t=0;return n.forEach(function(i){let r=Wn(i.mode,e);t+=r+i.getBitsLength()}),t}function sr(n,e){for(let t=1;t<=40;t++)if(ar(n,t)<=Z.getCapacity(t,e,J.MIXED))return t}Z.from=function(e,t){return _t.isValid(e)?parseInt(e,10):t};Z.getCapacity=function(e,t,i){if(!_t.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=J.BYTE);let r=Je.getSymbolTotalCodewords(e),o=rr.getTotalCodewordsCount(e,t),a=(r-o)*8;if(i===J.MIXED)return a;let s=a-Wn(i,e);switch(i){case J.NUMERIC:return Math.floor(s/10*3);case J.ALPHANUMERIC:return Math.floor(s/11*2);case J.KANJI:return Math.floor(s/13);case J.BYTE:default:return Math.floor(s/8)}};Z.getBestVersionForData=function(e,t){let i,r=Kn.from(t,Kn.M);if(Array.isArray(e)){if(e.length>1)return sr(e,r);if(e.length===0)return 1;i=e[0]}else i=e;return or(i.mode,i.getLength(),r)};Z.getEncodedBits=function(e){if(!_t.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Je.getBCHDigit(t)-Jn>=0;)t^=$n<<Je.getBCHDigit(t)-Jn;return e<<12|t}});var ti=C(ei=>{"use strict";var Ct=H(),Xn=1335,lr=21522,Zn=Ct.getBCHDigit(Xn);ei.getEncodedBits=function(e,t){let i=e.bit<<3|t,r=i<<10;for(;Ct.getBCHDigit(r)-Zn>=0;)r^=Xn<<Ct.getBCHDigit(r)-Zn;return(i<<10|r)^lr}});var ii=C((Uo,ni)=>{"use strict";var ur=K();function ye(n){this.mode=ur.NUMERIC,this.data=n.toString()}ye.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ye.prototype.getLength=function(){return this.data.length};ye.prototype.getBitsLength=function(){return ye.getBitsLength(this.data.length)};ye.prototype.write=function(e){let t,i,r;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),r=parseInt(i,10),e.put(r,10);let o=this.data.length-t;o>0&&(i=this.data.substr(t),r=parseInt(i,10),e.put(r,o*3+1))};ni.exports=ye});var oi=C((Oo,ri)=>{"use strict";var cr=K(),bt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _e(n){this.mode=cr.ALPHANUMERIC,this.data=n}_e.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};_e.prototype.getLength=function(){return this.data.length};_e.prototype.getBitsLength=function(){return _e.getBitsLength(this.data.length)};_e.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=bt.indexOf(this.data[t])*45;i+=bt.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(bt.indexOf(this.data[t]),6)};ri.exports=_e});var si=C((zo,ai)=>{"use strict";var pr=K();function Ce(n){this.mode=pr.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Ce.getBitsLength=function(e){return e*8};Ce.prototype.getLength=function(){return this.data.length};Ce.prototype.getBitsLength=function(){return Ce.getBitsLength(this.data.length)};Ce.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};ai.exports=Ce});var ui=C((jo,li)=>{"use strict";var dr=K(),mr=H();function be(n){this.mode=dr.KANJI,this.data=n}be.getBitsLength=function(e){return e*13};be.prototype.getLength=function(){return this.data.length};be.prototype.getBitsLength=function(){return be.getBitsLength(this.data.length)};be.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=mr.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};li.exports=be});var ci=C((Ho,wt)=>{"use strict";var De={single_source_shortest_paths:function(n,e,t){var i={},r={};r[e]=0;var o=De.PriorityQueue.make();o.push(e,0);for(var a,s,l,m,f,R,E,P,F;!o.empty();){a=o.pop(),s=a.value,m=a.cost,f=n[s]||{};for(l in f)f.hasOwnProperty(l)&&(R=f[l],E=m+R,P=r[l],F=typeof r[l]>"u",(F||P>E)&&(r[l]=E,o.push(l,E),i[l]=s))}if(typeof t<"u"&&typeof r[t]>"u"){var U=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(U)}return i},extract_shortest_path_from_predecessor_list:function(n,e){for(var t=[],i=e,r;i;)t.push(i),r=n[i],i=n[i];return t.reverse(),t},find_path:function(n,e,t){var i=De.single_source_shortest_paths(n,e,t);return De.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(n){var e=De.PriorityQueue,t={},i;n=n||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=n.sorter||e.default_sorter,t},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var t={value:n,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof wt<"u"&&(wt.exports=De)});var _i=C(we=>{"use strict";var _=K(),mi=ii(),fi=oi(),gi=si(),hi=ui(),Re=ht(),$e=H(),fr=ci();function pi(n){return unescape(encodeURIComponent(n)).length}function Be(n,e,t){let i=[],r;for(;(r=n.exec(t))!==null;)i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function yi(n){let e=Be(Re.NUMERIC,_.NUMERIC,n),t=Be(Re.ALPHANUMERIC,_.ALPHANUMERIC,n),i,r;return $e.isKanjiModeEnabled()?(i=Be(Re.BYTE,_.BYTE,n),r=Be(Re.KANJI,_.KANJI,n)):(i=Be(Re.BYTE_KANJI,_.BYTE,n),r=[]),e.concat(t,i,r).sort(function(a,s){return a.index-s.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function Et(n,e){switch(e){case _.NUMERIC:return mi.getBitsLength(n);case _.ALPHANUMERIC:return fi.getBitsLength(n);case _.KANJI:return hi.getBitsLength(n);case _.BYTE:return gi.getBitsLength(n)}}function gr(n){return n.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function hr(n){let e=[];for(let t=0;t<n.length;t++){let i=n[t];switch(i.mode){case _.NUMERIC:e.push([i,{data:i.data,mode:_.ALPHANUMERIC,length:i.length},{data:i.data,mode:_.BYTE,length:i.length}]);break;case _.ALPHANUMERIC:e.push([i,{data:i.data,mode:_.BYTE,length:i.length}]);break;case _.KANJI:e.push([i,{data:i.data,mode:_.BYTE,length:pi(i.data)}]);break;case _.BYTE:e.push([{data:i.data,mode:_.BYTE,length:pi(i.data)}])}}return e}function yr(n,e){let t={},i={start:{}},r=["start"];for(let o=0;o<n.length;o++){let a=n[o],s=[];for(let l=0;l<a.length;l++){let m=a[l],f=""+o+l;s.push(f),t[f]={node:m,lastCount:0},i[f]={};for(let R=0;R<r.length;R++){let E=r[R];t[E]&&t[E].node.mode===m.mode?(i[E][f]=Et(t[E].lastCount+m.length,m.mode)-Et(t[E].lastCount,m.mode),t[E].lastCount+=m.length):(t[E]&&(t[E].lastCount=m.length),i[E][f]=Et(m.length,m.mode)+4+_.getCharCountIndicator(m.mode,e))}}r=s}for(let o=0;o<r.length;o++)i[r[o]].end=0;return{map:i,table:t}}function di(n,e){let t,i=_.getBestModeForData(n);if(t=_.from(e,i),t!==_.BYTE&&t.bit<i.bit)throw new Error('"'+n+'" cannot be encoded with mode '+_.toString(t)+`.
 Suggested mode is: `+_.toString(i));switch(t===_.KANJI&&!$e.isKanjiModeEnabled()&&(t=_.BYTE),t){case _.NUMERIC:return new mi(n);case _.ALPHANUMERIC:return new fi(n);case _.KANJI:return new hi(n);case _.BYTE:return new gi(n)}}we.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push(di(i,null)):i.data&&t.push(di(i.data,i.mode)),t},[])};we.fromString=function(e,t){let i=yi(e,$e.isKanjiModeEnabled()),r=hr(i),o=yr(r,t),a=fr.find_path(o.map,"start","end"),s=[];for(let l=1;l<a.length-1;l++)s.push(o.table[a[l]].node);return we.fromArray(gr(s))};we.rawSplit=function(e){return we.fromArray(yi(e,$e.isKanjiModeEnabled()))}});var bi=C(Ci=>{"use strict";var Ye=H(),vt=Oe(),_r=qn(),Cr=An(),br=Pn(),wr=Qn(),St=Vn(),Tt=dt(),Er=jn(),We=Yn(),vr=ti(),xr=K(),xt=_i();function Ir(n,e){let t=n.size,i=wr.getPositions(e);for(let r=0;r<i.length;r++){let o=i[r][0],a=i[r][1];for(let s=-1;s<=7;s++)if(!(o+s<=-1||t<=o+s))for(let l=-1;l<=7;l++)a+l<=-1||t<=a+l||(s>=0&&s<=6&&(l===0||l===6)||l>=0&&l<=6&&(s===0||s===6)||s>=2&&s<=4&&l>=2&&l<=4?n.set(o+s,a+l,!0,!0):n.set(o+s,a+l,!1,!0))}}function Sr(n){let e=n.size;for(let t=8;t<e-8;t++){let i=t%2===0;n.set(t,6,i,!0),n.set(6,t,i,!0)}}function Tr(n,e){let t=br.getPositions(e);for(let i=0;i<t.length;i++){let r=t[i][0],o=t[i][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?n.set(r+a,o+s,!0,!0):n.set(r+a,o+s,!1,!0)}}function Dr(n,e){let t=n.size,i=We.getEncodedBits(e),r,o,a;for(let s=0;s<18;s++)r=Math.floor(s/3),o=s%3+t-8-3,a=(i>>s&1)===1,n.set(r,o,a,!0),n.set(o,r,a,!0)}function It(n,e,t){let i=n.size,r=vr.getEncodedBits(e,t),o,a;for(o=0;o<15;o++)a=(r>>o&1)===1,o<6?n.set(o,8,a,!0):o<8?n.set(o+1,8,a,!0):n.set(i-15+o,8,a,!0),o<8?n.set(8,i-o-1,a,!0):o<9?n.set(8,15-o-1+1,a,!0):n.set(8,15-o-1,a,!0);n.set(i-8,8,1,!0)}function Rr(n,e){let t=n.size,i=-1,r=t-1,o=7,a=0;for(let s=t-1;s>0;s-=2)for(s===6&&s--;;){for(let l=0;l<2;l++)if(!n.isReserved(r,s-l)){let m=!1;a<e.length&&(m=(e[a]>>>o&1)===1),n.set(r,s-l,m),o--,o===-1&&(a++,o=7)}if(r+=i,r<0||t<=r){r-=i,i=-i;break}}}function Br(n,e,t){let i=new _r;t.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),xr.getCharCountIndicator(l.mode,n)),l.write(i)});let r=Ye.getSymbolTotalCodewords(n),o=Tt.getTotalCodewordsCount(n,e),a=(r-o)*8;for(i.getLengthInBits()+4<=a&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let s=(a-i.getLengthInBits())/8;for(let l=0;l<s;l++)i.put(l%2?17:236,8);return Lr(i,n,e)}function Lr(n,e,t){let i=Ye.getSymbolTotalCodewords(e),r=Tt.getTotalCodewordsCount(e,t),o=i-r,a=Tt.getBlocksCount(e,t),s=i%a,l=a-s,m=Math.floor(i/a),f=Math.floor(o/a),R=f+1,E=m-f,P=new Er(E),F=0,U=new Array(a),Nt=new Array(a),ot=0,Ni=new Uint8Array(n.buffer);for(let ee=0;ee<a;ee++){let st=ee<l?f:R;U[ee]=Ni.slice(F,F+st),Nt[ee]=P.encode(U[ee]),F+=st,ot=Math.max(ot,st)}let at=new Uint8Array(i),At=0,k,Q;for(k=0;k<ot;k++)for(Q=0;Q<a;Q++)k<U[Q].length&&(at[At++]=U[Q][k]);for(k=0;k<E;k++)for(Q=0;Q<a;Q++)at[At++]=Nt[Q][k];return at}function qr(n,e,t,i){let r;if(Array.isArray(n))r=xt.fromArray(n);else if(typeof n=="string"){let m=e;if(!m){let f=xt.rawSplit(n);m=We.getBestVersionForData(f,t)}r=xt.fromString(n,m||40)}else throw new Error("Invalid data");let o=We.getBestVersionForData(r,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let a=Br(e,t,r),s=Ye.getSymbolSize(e),l=new Cr(s);return Ir(l,e),Sr(l),Tr(l,e),It(l,t,0),e>=7&&Dr(l,e),Rr(l,a),isNaN(i)&&(i=St.getBestMask(l,It.bind(null,l,t))),St.applyMask(i,l),It(l,t,i),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:i,segments:r}}Ci.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let i=vt.M,r,o;return typeof t<"u"&&(i=vt.from(t.errorCorrectionLevel,vt.M),r=We.from(t.version),o=St.from(t.maskPattern),t.toSJISFunc&&Ye.setToSJISFunction(t.toSJISFunc)),qr(e,r,i,o)}});var Dt=C(X=>{"use strict";function wi(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}X.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:i,scale:i?4:r,margin:t,color:{dark:wi(e.color.dark||"#000000ff"),light:wi(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};X.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};X.getImageWidth=function(e,t){let i=X.getScale(e,t);return Math.floor((e+t.margin*2)*i)};X.qrToImageData=function(e,t,i){let r=t.modules.size,o=t.modules.data,a=X.getScale(r,i),s=Math.floor((r+i.margin*2)*a),l=i.margin*a,m=[i.color.light,i.color.dark];for(let f=0;f<s;f++)for(let R=0;R<s;R++){let E=(f*s+R)*4,P=i.color.light;if(f>=l&&R>=l&&f<s-l&&R<s-l){let F=Math.floor((f-l)/a),U=Math.floor((R-l)/a);P=m[o[F*r+U]?1:0]}e[E++]=P.r,e[E++]=P.g,e[E++]=P.b,e[E]=P.a}}});var Ei=C(Ze=>{"use strict";var Rt=Dt();function Nr(n,e,t){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function Ar(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ze.render=function(e,t,i){let r=i,o=t;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),t||(o=Ar()),r=Rt.getOptions(r);let a=Rt.getImageWidth(e.modules.size,r),s=o.getContext("2d"),l=s.createImageData(a,a);return Rt.qrToImageData(l.data,e,r),Nr(s,o,a),s.putImageData(l,0,0),o};Ze.renderToDataURL=function(e,t,i){let r=i;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),r||(r={});let o=Ze.render(e,t,r),a=r.type||"image/png",s=r.rendererOpts||{};return o.toDataURL(a,s.quality)}});var Ii=C(xi=>{"use strict";var Pr=Dt();function vi(n,e){let t=n.a/255,i=e+'="'+n.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function Bt(n,e,t){let i=n+e;return typeof t<"u"&&(i+=" "+t),i}function Mr(n,e,t){let i="",r=0,o=!1,a=0;for(let s=0;s<n.length;s++){let l=Math.floor(s%e),m=Math.floor(s/e);!l&&!o&&(o=!0),n[s]?(a++,s>0&&l>0&&n[s-1]||(i+=o?Bt("M",l+t,.5+m+t):Bt("m",r,0),r=0,o=!1),l+1<e&&n[s+1]||(i+=Bt("h",a),a=0)):r++}return i}xi.render=function(e,t,i){let r=Pr.getOptions(t),o=e.modules.size,a=e.modules.data,s=o+r.margin*2,l=r.color.light.a?"<path "+vi(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",m="<path "+vi(r.color.dark,"stroke")+' d="'+Mr(a,o,r.margin)+'"/>',f='viewBox="0 0 '+s+" "+s+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+f+' shape-rendering="crispEdges">'+l+m+`</svg>
`;return typeof i=="function"&&i(null,E),E}});var Ti=C(Le=>{"use strict";var kr=Rn(),Lt=bi(),Si=Ei(),Qr=Ii();function qt(n,e,t,i,r){let o=[].slice.call(arguments,1),a=o.length,s=typeof o[a-1]=="function";if(!s&&!kr())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(r=t,t=e,e=i=void 0):a===3&&(e.getContext&&typeof r>"u"?(r=i,i=void 0):(r=i,i=t,t=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=e,e=i=void 0):a===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(l,m){try{let f=Lt.create(t,i);l(n(f,e,i))}catch(f){m(f)}})}try{let l=Lt.create(t,i);r(null,n(l,e,i))}catch(l){r(l)}}Le.create=Lt.create;Le.toCanvas=qt.bind(null,Si.render);Le.toDataURL=qt.bind(null,Si.renderToDataURL);Le.toString=qt.bind(null,function(n,e,t){return Qr.render(n,t)})});var Pi=10,j=class n{constructor(e){this.http=e}fetchRecords(e={},t=1,i=Pi){return e.offset=(t-1)*i,e.limit=i,this.http.get(`${this.getBaseUrl()}/`,{params:e})}fetchRecord(e){return this.http.get(`${this.getBaseUrl()}/${e}/`)}createRecord(e){return this.http.post(`${this.getBaseUrl()}/`,e)}updateRecord(e){return this.http.put(`${this.getBaseUrl()}/${e.id}/`,e)}updateRecordPatial(e,t){return this.http.patch(`${this.getBaseUrl()}/${e}/`,t)}deleteRecord(e){return this.http.delete(`${this.getBaseUrl()}/${e}/`)}static \u0275fac=function(t){return new(t||n)(Ut(un))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var ge=class n extends j{getBaseUrl(){return"/api/companies"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=te(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var ki=()=>({"min-width":"75rem"}),Qi=()=>["new"],Vi=n=>[n];function Fi(n,e){if(n&1){let t=S();u(0,"div",10)(1,"p-iconfield",11)(2,"p-inputicon"),x(3,"i",12),c(),u(4,"input",13),h("input",function(r){b(t);let o=g();return w(o.doFilter(r.target.value))}),c()()()}}function Ui(n,e){n&1&&(u(0,"tr")(1,"th",14),x(2,"p-button",15),c(),u(3,"th"),y(4,"Name"),c()()),n&2&&(d(2),p("routerLink",$(3,Qi))("rounded",!0)("outlined",!0))}function Oi(n,e){if(n&1){let t=S();u(0,"tr")(1,"td")(2,"div",16),x(3,"p-button",17),u(4,"p-button",18),h("click",function(){let r=b(t).$implicit,o=g();return w(o.openDeleteDialog(r.id))}),c()()(),u(5,"td"),y(6),c()()}if(n&2){let t=e.$implicit;d(3),p("routerLink",Ae(6,Vi,t.id))("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0),d(2),ne(" ",t.name," ")}}function zi(n,e){n&1&&(u(0,"tr")(1,"td",19),y(2,"No Companies found."),c()())}function ji(n,e){n&1&&(u(0,"p",20),y(1,"Do you realy want to delete this Company?"),c())}function Hi(n,e){if(n&1){let t=S();u(0,"div",21)(1,"p-button",22),h("click",function(){b(t);let r=g();return w(r.delete())}),c(),u(2,"p-button",23),h("click",function(){b(t);let r=g();return w(r.hideDeleteDialog())}),c()()}n&2&&(d(),p("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0))}var Fe=class n{constructor(e){this.companyService=e}records=[];loading=!1;totalRecords=0;page=1;pageSize=10;searchObservable=new Pt(null);showDelete=!1;idToDelete;ngOnInit(){this.searchObservable.pipe(Vt(500)).subscribe(()=>this.load())}load(){this.loading=!0;let e=this.searchObservable.getValue();this.companyService.fetchRecords(e?{search:e}:{},this.page,this.pageSize).subscribe({next:t=>{this.records=t.results,this.loading=!1,this.totalRecords=t.count??0},error:()=>this.loading=!1})}doFilter(e){this.searchObservable.next(e)}onPagination(e){this.page=Math.floor(e.first/e.rows)+1,this.load()}openDeleteDialog(e){this.idToDelete=e,this.showDelete=!0}hideDeleteDialog(){this.idToDelete=void 0,this.showDelete=!1}delete(){this.companyService.deleteRecord(this.idToDelete).subscribe(()=>{this.hideDeleteDialog(),this.load()})}static \u0275fac=function(t){return new(t||n)(D(ge))};static \u0275cmp=L({type:n,selectors:[["app-company-list-component"]],decls:16,vars:11,consts:[["table",""],["caption",""],["header",""],["body",""],["emptymessage",""],["content",""],["footer",""],["header","Companies",1,"m-4"],[3,"onPage","value","rows","lazy","totalRecords","loading","paginator","tableStyle"],[3,"visible","closable","modal"],[1,"flex"],["iconPosition","left",1,"ml-auto","w-full"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",1,"w-full",3,"input"],[1,"!w-0"],["icon","pi pi-plus",3,"routerLink","rounded","outlined"],[1,"flex","fley-col","gap-4"],["icon","pi pi-pencil",3,"routerLink","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],["colspan","99"],[1,"text-xl"],[1,"flex","flex-row","gap-4","justify-center","w-full"],["icon","pi pi-check","severity","danger",3,"click","rounded","outlined"],["icon","pi pi-times","severity","secondary",3,"click","rounded","outlined"]],template:function(t,i){if(t&1){let r=S();u(0,"p-card",7)(1,"p-table",8,0),h("onPage",function(a){return b(r),w(i.onPagination(a))}),B(3,Fi,5,0,"ng-template",null,1,I)(5,Ui,5,4,"ng-template",null,2,I)(7,Oi,7,8,"ng-template",null,3,I)(9,zi,3,0,"ng-template",null,4,I),c()(),u(11,"p-dialog",9),B(12,ji,2,0,"ng-template",null,5,I)(14,Hi,3,4,"ng-template",null,6,I),c()}t&2&&(d(),p("value",i.records)("rows",i.pageSize)("lazy",!0)("totalRecords",i.totalRecords)("loading",i.loading)("paginator",!0)("tableStyle",$(10,ki)),d(10),p("visible",i.showDelete)("closable",!1)("modal",!0))},dependencies:[q,Me,M,dn,mn,me,fe,pe,ke],encapsulation:2})};var Ee=Ai(Ti(),1);var Vr=["qrcElement"],Di=(()=>{let e=class e{constructor(i,r){this.renderer=i,this.sanitizer=r,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new Ne,this.context=null}ngOnChanges(){return lt(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(i){return this.allowEmptyString===!1?!(typeof i>"u"||i===""||i==="null"||i===null):!(typeof i>"u")}toDataURL(i){return new Promise((r,o)=>{(0,Ee.toDataURL)(this.qrdata,i,(a,s)=>{a?o(a):r(s)})})}toCanvas(i,r){return new Promise((o,a)=>{(0,Ee.toCanvas)(i,this.qrdata,r,s=>{s?a(s):o("success")})})}toSVG(i){return new Promise((r,o)=>{(0,Ee.toString)(this.qrdata,i,(a,s)=>{a?o(a):r(s)})})}renderElement(i){for(let r of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,r);this.renderer.appendChild(this.qrcElement.nativeElement,i)}createQRCode(){return lt(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let i={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},r=this.imageSrc,o=this.imageHeight||40,a=this.imageWidth||40;switch(this.elementType){case"canvas":{let s=this.renderer.createElement("canvas");this.context=s.getContext("2d"),this.toCanvas(s,i).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(s,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(s,"title",`${this.title}`),r&&this.context){this.centerImage=new Image(a,o),r!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=r),o!==this.centerImage.height&&(this.centerImage.height=o),a!==this.centerImage.width&&(this.centerImage.width=a);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,s.width/2-a/2,s.height/2-o/2,a,o)})}this.renderElement(s),this.emitQRCodeURL(s)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let s=this.renderer.createElement("div");this.toSVG(i).then(l=>{this.renderer.setProperty(s,"innerHTML",l);let m=s.firstChild;this.renderer.setAttribute(m,"height",`${this.width}`),this.renderer.setAttribute(m,"width",`${this.width}`),this.renderElement(m),this.emitQRCodeURL(m)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}case"url":case"img":default:{let s=this.renderer.createElement("img");this.toDataURL(i).then(l=>{this.alt&&s.setAttribute("alt",this.alt),this.ariaLabel&&s.setAttribute("aria-label",this.ariaLabel),s.setAttribute("src",l),this.title&&s.setAttribute("title",this.title),this.renderElement(s),this.emitQRCodeURL(s)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(i){console.error("[angularx-qrcode] Error generating QR Code:",i.message)}})}convertBase64ImageUrlToBlob(i){let r=i.split(";base64,"),o=r[0].split(":")[1],a=atob(r[1]),s=new Uint8Array(a.length);for(let l=0;l<a.length;++l)s[l]=a.charCodeAt(l);return new Blob([s],{type:o})}emitQRCodeURL(i){let r=i.constructor.name;if(r===SVGSVGElement.name){let m=i.outerHTML,f=new Blob([m],{type:"image/svg+xml"}),R=URL.createObjectURL(f),E=this.sanitizer.bypassSecurityTrustUrl(R);this.qrCodeURL.emit(E);return}let o="";r===HTMLCanvasElement.name&&(o=i.toDataURL("image/png")),r===HTMLImageElement.name&&(o=i.src);let a=this.convertBase64ImageUrlToBlob(o),s=URL.createObjectURL(a),l=this.sanitizer.bypassSecurityTrustUrl(s);this.qrCodeURL.emit(l)}};e.\u0275fac=function(r){return new(r||e)(D(zt),D(cn))},e.\u0275cmp=L({type:e,selectors:[["qrcode"]],viewQuery:function(r,o){if(r&1&&$t(Vr,7),r&2){let a;Wt(a=Yt())&&(o.qrcElement=a.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[Ot],decls:2,vars:2,consts:[["qrcElement",""]],template:function(r,o){r&1&&Jt(0,"div",null,0),r&2&&Zt(o.cssClass)},encapsulation:2,changeDetection:0});let n=e;return n})();var Xe=class n extends j{getBaseUrl(){return"/api/queue-entries"}endWaiting(e){return this.updateRecordPatial(e,{end_waiting:new Date(new Date().getUTCDate()).toISOString()})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=te(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ur=()=>({"min-width":"75rem"}),Or=n=>["/guest",n];function zr(n,e){if(n&1){let t=S();u(0,"p-button",14),h("click",function(){b(t);let r=g(2);return w(r.select())}),c()}n&2&&p("rounded",!0)("outlined",!0)}function jr(n,e){if(n&1){let t=S();u(0,"tr")(1,"th",9)(2,"div",10),B(3,zr,1,2,"p-button",11),u(4,"p-button",12),h("click",function(){b(t);let r=g();return w(r.load())}),c()()(),u(5,"th",13),y(6,"Start"),c(),u(7,"th"),y(8,"Description"),c()()}if(n&2){let t=g();d(3),p("ngIf",t.canCreate),d(),p("rounded",!0)("outlined",!0)}}function Hr(n,e){if(n&1){let t=S();u(0,"tr")(1,"td")(2,"div",10)(3,"p-button",15),h("click",function(){let r=b(t).$implicit,o=g();return w(o.stopWaiting(r.id))}),c(),u(4,"p-button",16),h("click",function(){let r=b(t).$implicit,o=g();return w(o.select(r))}),c(),u(5,"p-button",17),h("click",function(){let r=b(t).$implicit,o=g();return w(o.openDeleteDialog(r.id))}),c()()(),u(6,"td"),y(7),an(8,"date"),c(),u(9,"td")(10,"span",18),y(11),c()()()}if(n&2){let t=e.$implicit;d(3),p("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0),d(2),ne(" ",sn(8,8,t.created_at,"dd.MM.yyyy HH:mm")," "),d(4),Xt(t.description)}}function Gr(n,e){n&1&&(u(0,"tr")(1,"td",19),y(2,"No Queue Entries found."),c()())}function Kr(n,e){if(n&1&&(u(0,"div",26),x(1,"qrcode",27),c()),n&2){let t=g(2);d(),p("qrdata",on("https://queue-service-api.eutima.ch/guest/",t.form.value.id))("width",200)("routerLink",Ae(4,Or,t.form.value.id))}}function Jr(n,e){if(n&1&&(u(0,"form",20)(1,"div",21),B(2,Kr,2,6,"div",22),u(3,"div",23)(4,"p-floatlabel"),x(5,"textarea",24),u(6,"label",25),y(7,"Description"),c()()()()()),n&2){let t=g();p("formGroup",t.form),d(2),p("ngIf",!!t.form.value.id)}}function $r(n,e){if(n&1){let t=S();u(0,"div",28)(1,"p-button",29),h("click",function(){b(t);let r=g();return w(r.save())}),c(),u(2,"p-button",30),h("click",function(){b(t);let r=g();return w(r.closeEditDialog())}),c()()}if(n&2){let t=g();d(),p("disabled",t.form.invalid)("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0)}}function Wr(n,e){n&1&&(u(0,"p",31),y(1,"Do you realy want to delete this Queue Entry?"),c())}function Yr(n,e){if(n&1){let t=S();u(0,"div",32)(1,"p-button",33),h("click",function(){b(t);let r=g();return w(r.delete())}),c(),u(2,"p-button",30),h("click",function(){b(t);let r=g();return w(r.hideDeleteDialog())}),c()()}n&2&&(d(),p("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0))}var et=class n{constructor(e,t){this.queueEntryService=e;this.formBuilder=t;this.form=t.group({id:[null],description:[null,[z.required]],queue:[null,[z.required]]})}queue;showWaiting=!1;canCreate=!1;form;showEditDialog=!1;showDelete=!1;idToDelete;records=[];totalRecords=0;page=1;pageSize=10;loading=!1;ngOnInit(){this.load()}load(){this.queueEntryService.fetchRecords({waiting_end_is_null:this.showWaiting,queue_id:this.queue.id},this.page,this.pageSize).subscribe(e=>{this.totalRecords=e.count,this.records=e.results})}onPagination(e){this.page=Math.floor(e.first/e.rows)+1,this.load()}select(e={id:void 0,queue:void 0,description:void 0}){e.queue=this.queue.id,this.form.patchValue(e),Object.keys(this.form.controls).forEach(t=>this.form.controls[t].markAllAsDirty()),this.openEditDialog()}openEditDialog(){this.showEditDialog=!0}stopWaiting(e){this.queueEntryService.endWaiting(e).subscribe(()=>this.load())}closeEditDialog(){this.showEditDialog=!1,this.form.reset(),this.load()}save(){let e;this.form.value.id?e=this.queueEntryService.updateRecord(this.form.value):e=this.queueEntryService.createRecord(this.form.value),e.subscribe(t=>{this.form.patchValue(t),this.load()})}openDeleteDialog(e){this.idToDelete=e,this.showDelete=!0}hideDeleteDialog(){this.idToDelete=void 0,this.showDelete=!1}delete(){this.queueEntryService.deleteRecord(this.idToDelete).subscribe(()=>{this.hideDeleteDialog(),this.load()})}static \u0275fac=function(t){return new(t||n)(D(Xe),D(ce))};static \u0275cmp=L({type:n,selectors:[["app-queue-entry-table-component"]],inputs:{queue:"queue",showWaiting:"showWaiting",canCreate:"canCreate"},decls:18,vars:14,consts:[["table",""],["header",""],["body",""],["emptymessage",""],["content",""],["footer",""],[3,"onPage","value","rows","lazy","totalRecords","loading","paginator","tableStyle"],["header","Queue Entry",3,"visible","closable","modal"],[3,"visible","closable","modal"],[1,"!w-0"],[1,"flex","fley-col","gap-4"],["icon","pi pi-plus",3,"rounded","outlined","click",4,"ngIf"],["icon","pi pi-refresh","severity","secondary",3,"click","rounded","outlined"],[1,"!w-40"],["icon","pi pi-plus",3,"click","rounded","outlined"],["icon","pi pi-check","severity","primary",3,"click","rounded","outlined"],["icon","pi pi-pencil",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"whitespace-pre-wrap"],["colspan","99"],[3,"formGroup"],[1,"flex","flex-col","w-full"],["class","flex flex-row justify-center",4,"ngIf"],[1,"pt-8"],["pTextarea","","id","description","formControlName","description","rows","5",1,"h-full"],["for","description"],[1,"flex","flex-row","justify-center"],[3,"width","qrdata","routerLink"],[1,"flex","flex-row","justify-center","gap-4","w-full"],["icon","pi pi-save","severity","primary",3,"click","disabled","rounded","outlined"],["icon","pi pi-times","severity","secondary",3,"click","rounded","outlined"],[1,"text-xl"],[1,"flex","flex-row","gap-4","justify-center","w-full"],["icon","pi pi-check","severity","danger",3,"click","rounded","outlined"]],template:function(t,i){if(t&1){let r=S();u(0,"p-table",6,0),h("onPage",function(a){return b(r),w(i.onPagination(a))}),B(2,jr,9,3,"ng-template",null,1,I)(4,Hr,12,11,"ng-template",null,2,I)(6,Gr,3,0,"ng-template",null,3,I),c(),u(8,"p-dialog",7),B(9,Jr,8,2,"ng-template",null,4,I)(11,$r,3,5,"ng-template",null,5,I),c(),u(13,"p-dialog",8),B(14,Wr,2,0,"ng-template",null,4,I)(16,Yr,3,4,"ng-template",null,5,I),c()}t&2&&(p("value",i.records)("rows",i.pageSize)("lazy",!0)("totalRecords",i.totalRecords)("loading",i.loading)("paginator",!0)("tableStyle",$(13,Ur)),d(8),p("visible",i.showEditDialog)("closable",!1)("modal",!0),d(5),p("visible",i.showDelete)("closable",!1)("modal",!0))},dependencies:[q,ie,se,re,oe,ae,le,ue,Me,M,fe,pe,de,Cn,Di,ln],encapsulation:2})};var tt=class n{queue;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=L({type:n,selectors:[["app-queue-entry-list-component"]],inputs:{queue:"queue"},decls:13,vars:6,consts:[["value","0"],["value","1"],[1,"pi","pi-hourglass"],[3,"queue","showWaiting","canCreate"],["value","2"],[1,"pi","pi-check-circle"]],template:function(t,i){t&1&&(u(0,"p-accordion",0)(1,"p-accordion-panel",1)(2,"p-accordion-header"),x(3,"i",2),y(4," Waiting"),c(),u(5,"p-accordion-content"),x(6,"app-queue-entry-table-component",3),c()(),u(7,"p-accordion-panel",4)(8,"p-accordion-header"),x(9,"i",5),y(10," Completed"),c(),u(11,"p-accordion-content"),x(12,"app-queue-entry-table-component",3),c()()()),t&2&&(d(6),p("queue",i.queue)("showWaiting",!0)("canCreate",!0),d(6),p("queue",i.queue)("showWaiting",!1)("canCreate",!1))},dependencies:[q,vn,bn,wn,En,et],encapsulation:2})};var ve=class n extends j{getBaseUrl(){return"/api/queues"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=te(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function eo(n,e){if(n&1&&x(0,"app-queue-entry-list-component",12),n&2){let t=g(2);p("queue",t.record)}}function to(n,e){if(n&1){let t=S();u(0,"form",1),h("ngSubmit",function(){b(t);let r=g();return w(r.save())}),u(1,"div",2)(2,"div",3)(3,"p-inputgroup")(4,"p-inputgroup-addon"),x(5,"i",4),c(),u(6,"p-float-label")(7,"label",5),y(8,"Name *"),c(),x(9,"input",6),c()()()(),u(10,"div",7),x(11,"p-button",8),u(12,"p-button",9),h("click",function(){b(t);let r=g();return w(r.back())}),c()(),x(13,"hr",10),u(14,"div"),y(15,"Queue Entries"),c(),B(16,eo,1,1,"app-queue-entry-list-component",11),c()}if(n&2){let t=g();p("formGroup",t.form),d(11),p("disabled",t.form.invalid)("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0),d(4),p("ngIf",t.record.id)}}var nt=class n{constructor(e,t){this.queueService=e;this.formBuilder=t}record;onComplete=new Ne;form;ngOnInit(){this.form=this.formBuilder.group({id:[this.record.id??null],name:[this.record.name??null,[z.required]],company:[this.record.company??null,[z.required]]}),Object.keys(this.form.controls).forEach(e=>this.form?.controls[e].markAllAsDirty())}save(){let e=this.form?.value;this.record?.id?(e.id=this.record.id,this.queueService.updateRecord(e).subscribe(t=>this.record=t)):this.queueService.createRecord(e).subscribe(t=>this.record=t)}back(){this.onComplete.emit()}static \u0275fac=function(t){return new(t||n)(D(ve),D(ce))};static \u0275cmp=L({type:n,selectors:[["app-queue-detail-component"]],inputs:{record:"record"},outputs:{onComplete:"onComplete"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"flex","flex-row","w-full"],[1,"pt-8","w-full"],[1,"pi","pi-list"],["for","name"],["id","name","pInputText","","formControlName","name"],[1,"flex","flex-row","w-full","pt-8","justify-center","gap-4","pb-4"],["type","submit","icon","pi pi-save",3,"disabled","rounded","outlined"],["type","button","icon","pi pi-times","severity","secondary",3,"click","rounded","outlined"],[1,"text-gray-300"],[3,"queue",4,"ngIf"],[3,"queue"]],template:function(t,i){t&1&&B(0,to,17,7,"form",0),t&2&&p("ngIf",!!i.form)},dependencies:[q,ie,se,re,oe,ae,le,ue,M,me,Qe,Ve,de,tt],encapsulation:2})};var no=()=>({"min-width":"75rem"});function io(n,e){if(n&1){let t=S();u(0,"tr")(1,"th",9)(2,"p-button",10),h("click",function(){b(t);let r=g(2);return w(r.select())}),c()(),u(3,"th"),y(4,"Name"),c()()}n&2&&(d(2),p("rounded",!0)("outlined",!0))}function ro(n,e){if(n&1){let t=S();u(0,"tr")(1,"td")(2,"div",11)(3,"p-button",12),h("click",function(){let r=b(t).$implicit,o=g(2);return w(o.select(r))}),c(),u(4,"p-button",13),h("click",function(){let r=b(t).$implicit,o=g(2);return w(o.openDeleteDialog(r.id))}),c()()(),u(5,"td"),y(6),c()()}if(n&2){let t=e.$implicit;d(3),p("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0),d(2),ne(" ",t.name," ")}}function oo(n,e){n&1&&(u(0,"tr")(1,"td",14),y(2,"No Queues found."),c()())}function ao(n,e){n&1&&(u(0,"p",15),y(1,"Do you realy want to delete this Queue?"),c())}function so(n,e){if(n&1){let t=S();u(0,"div",16)(1,"p-button",17),h("click",function(){b(t);let r=g(2);return w(r.delete())}),c(),u(2,"p-button",18),h("click",function(){b(t);let r=g(2);return w(r.hideDeleteDialog())}),c()()}n&2&&(d(),p("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0))}function lo(n,e){if(n&1){let t=S();u(0,"p-table",7,0),h("onPage",function(r){b(t);let o=g();return w(o.onPagination(r))}),B(2,io,5,2,"ng-template",null,1,I)(4,ro,7,5,"ng-template",null,2,I)(6,oo,3,0,"ng-template",null,3,I),c(),u(8,"p-dialog",8),B(9,ao,2,0,"ng-template",null,4,I)(11,so,3,4,"ng-template",null,5,I),c()}if(n&2){let t=g();p("value",t.records)("rows",t.pageSize)("lazy",!0)("totalRecords",t.totalRecords)("loading",t.loading)("paginator",!0)("tableStyle",$(10,no)),d(8),p("visible",t.showDelete)("closable",!1)("modal",!0)}}function uo(n,e){if(n&1){let t=S();u(0,"app-queue-detail-component",19),h("onComplete",function(){b(t);let r=g();return r.selected=void 0,w(r.load())}),c()}if(n&2){let t=g();p("record",t.selected)}}var it=class n{constructor(e,t){this.queueService=e;this.route=t}records=[];loading=!1;totalRecords=0;page=1;pageSize=10;showDelete=!1;idToDelete;companyId;selected;ngOnInit(){this.companyId?this.load():this.route.paramMap.subscribe(e=>{this.companyId=parseInt(e.get("company_id"),10),this.load()})}load(){this.loading=!0,this.queueService.fetchRecords(this.companyId?{company_id:this.companyId}:{},this.page,this.pageSize).subscribe({next:e=>{this.records=e.results,this.loading=!1,this.totalRecords=e.count??0},error:()=>this.loading=!1})}select(e={id:void 0,name:void 0,company:void 0}){e.company=this.companyId,this.selected=e}onPagination(e){this.page=Math.floor(e.first/e.rows)+1,this.load()}openDeleteDialog(e){this.idToDelete=e,this.showDelete=!0}hideDeleteDialog(){this.idToDelete=void 0,this.showDelete=!1}delete(){this.queueService.deleteRecord(this.idToDelete).subscribe(()=>{this.hideDeleteDialog(),this.load()})}static \u0275fac=function(t){return new(t||n)(D(ve),D(Pe))};static \u0275cmp=L({type:n,selectors:[["app-queue-list-component"]],inputs:{companyId:"companyId"},decls:2,vars:1,consts:[["table",""],["header",""],["body",""],["emptymessage",""],["content",""],["footer",""],[3,"record"],[3,"onPage","value","rows","lazy","totalRecords","loading","paginator","tableStyle"],[3,"visible","closable","modal"],[1,"!w-0"],["icon","pi pi-plus",3,"click","rounded","outlined"],[1,"flex","fley-col","gap-4"],["icon","pi pi-pencil",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],["colspan","99"],[1,"text-xl"],[1,"flex","flex-row","gap-4","justify-center","w-full"],["icon","pi pi-check","severity","danger",3,"click","rounded","outlined"],["icon","pi pi-times","severity","secondary",3,"click","rounded","outlined"],[3,"onComplete","record"]],template:function(t,i){t&1&&jt(0,lo,13,11)(1,uo,1,1,"app-queue-detail-component",6),t&2&&Ht(i.selected?1:0)},dependencies:[q,M,fe,pe,nt],encapsulation:2})};var rt=class n{company;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=L({type:n,selectors:[["app-company-statistics-component"]],inputs:{company:"company"},decls:2,vars:0,template:function(t,i){t&1&&(Gt(0,"p"),y(1,"company-statistics-component works!"),Kt())},encapsulation:2})};function co(n,e){if(n&1&&x(0,"app-queue-list-component",15),n&2){let t=g();p("companyId",t.record==null?null:t.record.id)}}function po(n,e){if(n&1&&x(0,"app-company-statistics-component",16),n&2){let t=g();p("company",t.record)}}var qe=class n{constructor(e,t,i,r){this.companyService=e;this.route=t;this.router=i;this.form=r.group({name:[null,[z.required]]})}form;record;tabIndex=0;ngOnInit(){this.route.paramMap.pipe(kt(e=>e.get("id")),Qt(e=>e?this.companyService.fetchRecord(parseInt(e,10)):Mt({id:void 0,name:void 0})),Ft(e=>this.record=e)).subscribe(e=>this.initForm(e))}initForm(e){this.form.patchValue({name:e.name}),Object.keys(this.form.controls).forEach(t=>this.form.controls[t].markAsDirty())}save(){let e=this.form.value;this.record?.id?(e.id=this.record.id,this.companyService.updateRecord(e).subscribe(t=>this.record=t)):this.companyService.createRecord(e).subscribe(t=>this.record=t)}back(){this.router.navigate(["/company"])}static \u0275fac=function(t){return new(t||n)(D(ge),D(Pe),D(pn),D(ce))};static \u0275cmp=L({type:n,selectors:[["app-company-edit"]],decls:28,vars:19,consts:[[1,"m-4",3,"header"],[3,"valueChange","value"],[3,"value"],[3,"value","disabled"],[3,"ngSubmit","formGroup"],[1,"flex","flex-row","w-full"],[1,"pt-8","w-full"],[1,"pi","pi-list"],["for","name"],["id","name","pInputText","","formControlName","name"],[1,"flex","flex-row","w-full","pt-8","justify-center","gap-4"],["type","submit","icon","pi pi-save",3,"disabled","rounded","outlined"],["type","button","icon","pi pi-times","severity","secondary",3,"click","rounded","outlined"],[3,"companyId",4,"ngIf"],[3,"company",4,"ngIf"],[3,"companyId"],[3,"company"]],template:function(t,i){t&1&&(u(0,"p-card",0)(1,"p-tabs",1),nn("valueChange",function(o){return tn(i.tabIndex,o)||(i.tabIndex=o),o}),u(2,"p-tablist")(3,"p-tab",2),y(4,"Company"),c(),u(5,"p-tab",3),y(6,"Queues"),c(),u(7,"p-tab",3),y(8,"Statistics"),c()(),u(9,"p-tabpanels")(10,"p-tabpanel",2)(11,"form",4),h("ngSubmit",function(){return i.save()}),u(12,"div",5)(13,"div",6)(14,"p-inputgroup")(15,"p-inputgroup-addon"),x(16,"i",7),c(),u(17,"p-float-label")(18,"label",8),y(19,"Name *"),c(),x(20,"input",9),c()()()(),u(21,"div",10),x(22,"p-button",11),u(23,"p-button",12),h("click",function(){return i.back()}),c()()()(),u(24,"p-tabpanel",2),B(25,co,1,1,"app-queue-list-component",13),c(),u(26,"p-tabpanel",2),B(27,po,1,1,"app-company-statistics-component",14),c()()()()),t&2&&(p("header",rn((i.record==null?null:i.record.name)??"New Company")),d(),en("value",i.tabIndex),d(2),p("value",0),d(2),p("value",1)("disabled",!(i.record!=null&&i.record.id)),d(2),p("value",2)("disabled",!(i.record!=null&&i.record.id)),d(3),p("value",0),d(),p("formGroup",i.form),d(11),p("disabled",i.form.invalid)("rounded",!0)("outlined",!0),d(),p("rounded",!0)("outlined",!0),d(),p("value",1),d(),p("ngIf",i.tabIndex==1&&!!(i.record!=null&&i.record.id)),d(),p("value",2),d(),p("ngIf",i.tabIndex==2&&!!(i.record!=null&&i.record.id)))},dependencies:[q,ie,se,re,oe,ae,le,ue,M,me,ke,Qe,Ve,de,_n,yn,hn,fn,gn,it,rt],encapsulation:2})};var Ja=[{path:"",component:Fe},{path:"new",component:qe},{path:":id",component:qe}];export{Ja as ROUTES};
